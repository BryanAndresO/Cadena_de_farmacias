# ==========================================
# CONFIGURACIÓN PARA DESPLIEGUE EN VM/CLOUD
# ==========================================
#
# INSTRUCCIONES:
# 1. Copia este archivo a `.env` en la raíz del proyecto
# 2. Reemplaza YOUR_VM_IP_OR_DOMAIN con la IP pública o dominio de tu VM
# 3. Ejecuta: docker compose up -d
#
# Ejemplo con IP: PUBLIC_HOST=35.123.45.67
# Ejemplo con dominio: PUBLIC_HOST=miapp.ejemplo.com
#

# ==========================================
# CONFIGURACIÓN PRINCIPAL
# ==========================================

# IP pública o dominio de tu servidor (SIN http://)
PUBLIC_HOST=YOUR_VM_IP_OR_DOMAIN

# Puerto del Gateway (puerto principal de acceso)
GATEWAY_PORT=8080

# Puerto del servidor OAuth
OAUTH_PORT=9000

# ==========================================
# URLs GENERADAS AUTOMÁTICAMENTE
# ==========================================
# Estas se calculan a partir de PUBLIC_HOST

# URL pública del Gateway (acceso principal a la aplicación)
GATEWAY_PUBLIC_URL=http://${PUBLIC_HOST}:${GATEWAY_PORT}

# URL pública del servidor OAuth (para autenticación desde el navegador)
OAUTH_PUBLIC_URL=http://${PUBLIC_HOST}:${OAUTH_PORT}

# URL del emisor OAuth (Issuer) - usada internamente por el servidor
OAUTH_ISSUER_URI=http://${PUBLIC_HOST}:${OAUTH_PORT}

# ==========================================
# CONFIGURACIÓN OAUTH DINÁMICA
# ==========================================

# Base URL para Cliente Gateway (OAuth)
OAUTH2_CLIENT_GATEWAY_BASE_URL=${GATEWAY_PUBLIC_URL}

# Base URL para Frontend (OAuth)
OAUTH2_CLIENT_FRONTEND_BASE_URL=${GATEWAY_PUBLIC_URL}

# Base URL pública adicional (OAuth)
OAUTH2_CLIENT_PUBLIC_BASE_URL=${GATEWAY_PUBLIC_URL}
